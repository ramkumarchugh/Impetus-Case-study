<div class="mat-elevation-z8" >
        <mat-card>
            <h2>Application List </h2>
            <br>
<table mat-table [dataSource]="dataSource" matSort >
    <!-- Position Column -->
    <!-- <ng-container matColumnDef="applicantname">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> applicantname </th>
    <td mat-cell *matCellDef="let element"> {{element.applicantname}} </td>
    </ng-container> -->
    <!-- Name Column -->
<!--     <ng-container matColumnDef="applicationNumber">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Application Number </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.applicationNumber}} </mat-cell>
        </ng-container> -->
    
    <ng-container matColumnDef="sumAssured">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Sum Assured </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.sumAssured}} </mat-cell>
    </ng-container>
    <!-- Weight Column -->
    <ng-container matColumnDef="noOfYears">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Maturity </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.noOfYears}} </mat-cell>
    </ng-container>
    <ng-container matColumnDef="age">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Age </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.age}} </mat-cell>
    </ng-container>

    <!-- <ng-container matColumnDef="dependent">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> dependent </th>
    <td mat-cell *matCellDef="let element"> {{element.dependent}} </td>
    </ng-container> -->


    <ng-container matColumnDef="premium">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Premium </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.premium}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="salary">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Salary </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.salary}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="noOfDependents">
        <mat-header-cell *matHeaderCellDef mat-sort-header> No of Dependents </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.noOfDependents}} </mat-cell>
    </ng-container>

    <!-- <ng-container matColumnDef="sum assured">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Sum Assured </th>
    <td mat-cell *matCellDef="let element"> {{element.symbol}} </td>
    </ng-container> --> 

    <ng-container matColumnDef="status">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Status </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.status}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="workflow">
            <mat-header-cell *matHeaderCellDef > WorkFlow  </mat-header-cell>
            <mat-cell *matCellDef="let element"> 


    <button mat-raised-button style="background-color: lightseagreen; color:white;" data-toggle="modal"
                    data-target="#workflowModal" (click)=showWorkflow(element)>Workflow</button>
    

            </mat-cell>
    </ng-container>
    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
</table>
<mat-paginator [pageSizeOptions]="[7, 14, 21]" showFirstLastButtons></mat-paginator>

</mat-card>
</div>
<div class="modal fade" id="workflowModal" tabindex="-1" role="dialog" aria-labelledby="workflowModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl modal-dialog-scrollable" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <div class="card">
                    <div class="card-header bg-custom-sky">
                        <strong><span style="color:white">Workflow for the Appliction</span></strong>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close" >
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="card-body">
                        <app-workflow-activity *ngFor="let workflow of workflows;let i=index"
                            [borderType]="borderType(workflow)">
                           <p>{{workflow.creationTime}}</p>                            
                           <p>{{workflow.status}}</p>
                            <p>Assigned to {{workflow.assignedTo}}</p>
                            <p>{{workflow.comment}}</p>
                            <!--<div *ngIf="isLastWorkflowActivity(i)">
                                <div class="form-group" *ngIf="authService.isUnderWriter()">
                                    <label for="exampleFormControlTextarea1">Comment</label>
                                    <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"
                                        placeholder="approve/reject with comment...."></textarea>
                                </div>
                                <button type="button" class="btn-sm btn-success" (click)="onSubmit()"
                                    *ngIf="authService.isUnderWriter()">Approve</button>
                                <button type="button" class="ml-2 btn-sm btn-danger"
                                    *ngIf="authService.isUnderWriter()">Reject</button>
                                <button type="button" class="ml-2 btn-sm btn-warning"
                                    *ngIf="isBuyEligible(workflow)">Buy</button>
                            </div>-->
                        </app-workflow-activity>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
